<ion-content class="ion-padding">
  @if (librosSignal.hasValue()) {
    <ion-grid>
      <ion-row>
        @for (book of librosSignal.value(); track book.id) {
          <ion-col 
            size="6" 
            size-md="4" 
            size-lg="3">
            <ion-card 
              class="ion-padding ion-text-wrap"
            >

              <!-- Imagen del libro (opcional) -->
              @if (book?.image) {
                <ion-img 
                  [src]="book.image" 
                  alt="Portada de {{ book.name }}"
                ></ion-img>
              } @else {
                <div class="image-placeholder"></div>
              }

              <!-- Contenido con grid interno para mantener tamaÃ±o -->
              <ion-grid fixed>
                <ion-row>
                  <ion-col size="12">
                    <ion-card-header>
                      <ion-card-title 
                        class="ion-text-nowrap"
                      >{{ book.name }}</ion-card-title>
                      <ion-card-subtitle 
                        class="ion-text-nowrap"
                      >{{ book.author }}</ion-card-subtitle>
                    </ion-card-header>
                  </ion-col>
                </ion-row>

                <ion-row>
                  <ion-col size="12">
                    <p><strong>
                      Estado:</strong> 
                        {{ book.state }}
                    </p>
                  </ion-col>
                </ion-row>

                <ion-row 
                  class="ion-justify-content-end ion-margin-top">
                  <ion-col 
                    size="auto">
                    <ion-button 
                      size="small" 
                      fill="outline" 
                      color="danger"
                      (click)="eliminarLibro(book.id.toString())"
                    >
                      Eliminar
                    </ion-button>
                  </ion-col>
                </ion-row>
              </ion-grid>

            </ion-card>
          </ion-col>
        }
      </ion-row>
    </ion-grid>
  } 
  @else {
    <ion-text color="medium">
      <h2 class="ion-text-center ion-margin-top"
      >No hay libros registrados
      </h2>
    </ion-text>
  }
</ion-content>

